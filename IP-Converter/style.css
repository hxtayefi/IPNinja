/* --- PROFESSIONAL DEEP PURPLE THEME (UPGRADED) --- */
:root {
    --font-main: 'Inter', sans-serif;
    --font-mono: 'SF Mono', 'Fira Code', 'Roboto Mono', monospace;
    
    /* Enhanced Purple Palette */
    --primary-purple: #6D28D9;
    --primary-purple-dark: #5B21B6;
    --primary-purple-light: #8B5CF6;
    
    /* Gradients */
    --brand-gradient: linear-gradient(135deg, var(--primary-purple), var(--primary-purple-dark));
    --brand-gradient-hover: linear-gradient(135deg, var(--primary-purple-light), var(--primary-purple));
    
    /* Background & UI Colors */
    --bg-dark: #0F172A;
    --bg-gradient-start: #1E293B;
    --bg-gradient-end: #0F172A;
    --card-bg: rgba(30, 41, 59, 0.6);
    --card-border: rgba(109, 40, 217, 0.2);
    --card-shadow: rgba(109, 40, 217, 0.15);
    
    /* Text Colors */
    --text-primary: #F8FAFC;
    --text-secondary: #94A3B8;
    --text-tertiary: #64748B;

    /* Transitions */
    --transition-fast: 0.2s ease;
    --transition-medium: 0.3s ease;
    --transition-slow: 0.5s cubic-bezier(0.16, 1, 0.3, 1);
}

/* --- BASE & ANIMATIONS --- */
* { box-sizing: border-box; margin: 0; padding: 0; }
@keyframes gradient-pulse { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
@keyframes float { 0% { transform: translateY(0px); } 50% { transform: translateY(-8px); } 100% { transform: translateY(0px); } }

body {
    font-family: var(--font-main);
    background-color: var(--bg-dark);
    background-image: linear-gradient(135deg, var(--bg-gradient-start), var(--bg-gradient-end));
    background-size: 300% 300%;
    animation: gradient-pulse 20s ease infinite;
    color: var(--text-primary);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: 2rem;
    line-height: 1.6;
}

/* --- MAIN CONTAINER --- */
.container {
    width: 100%;
    max-width: 1200px;
    background: var(--card-bg);
    border-radius: 1.5rem;
    border: 1px solid var(--card-border);
    padding: 2.5rem 3rem;
    box-shadow: 0 20px 60px -10px var(--card-shadow);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    transition: all var(--transition-medium);
    position: relative;
    overflow: hidden;
}
.container::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(109, 40, 217, 0.05) 0%, rgba(109, 40, 217, 0) 70%);
    pointer-events: none;
}
.converter-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2.5rem;
}

/* --- HEADER --- */
header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2.5rem;
}
.header-title { display: flex; align-items: center; gap: 1.25rem; }
.logo-container {
    width: 48px;
    height: 48px;
    background: var(--brand-gradient);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 20px rgba(109, 40, 217, 0.3);
    animation: float 6s ease-in-out infinite;
}
.logo-container svg { width: 28px; height: 28px; color: white; }
.header-text h1 {
    font-size: 1.75rem;
    font-weight: 700;
    background: var(--brand-gradient);
    -webkit-background-clip: text; background-clip: text;
    color: transparent;
    line-height: 1.2;
}
.header-text p { color: var(--text-secondary); font-size: 0.95rem; margin-top: 0.25rem; }

/* --- PANELS & TEXTAREA --- */
.panel h3 {
    font-size: 1.25rem; font-weight: 600; margin-bottom: 1.5rem;
    padding-bottom: 0.75rem; border-bottom: 1px solid var(--card-border);
    color: var(--text-primary); display: flex; align-items: center; gap: 0.75rem;
}
.panel h3 svg { width: 20px; height: 20px; color: var(--primary-purple-light); }
textarea {
    width: 100%; background-color: rgba(15, 23, 42, 0.5);
    border: 1px solid var(--card-border); border-radius: 0.75rem;
    color: var(--text-primary); font-size: 0.95rem; font-family: var(--font-mono);
    padding: 1rem; resize: none; transition: all var(--transition-fast);
}
textarea::placeholder { color: var(--text-tertiary); }
textarea:focus {
    outline: none; border-color: var(--primary-purple-light);
    box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2);
}
.input-panel textarea { height: 400px; }
.output-panel textarea { height: 150px; margin-bottom: 1.5rem;}

/* --- INPUT PANEL FOOTER --- */
.input-footer { display: flex; justify-content: space-between; align-items: center; margin-top: 1rem; }
.input-stats {
    color: var(--text-secondary); font-size: 0.85rem;
    display: flex; align-items: center; gap: 0.5rem;
}
.input-stats svg { width: 16px; height: 16px; }
.input-stats strong { color: var(--primary-purple-light); font-weight: 600; }
.input-actions { display: flex; gap: 0.75rem; }
#fileInput { display: none; }

/* --- BUTTONS --- */
.btn {
    display: inline-flex; align-items: center; justify-content: center; gap: 0.5rem;
    padding: 0.65rem 1.25rem; font-size: 0.9rem; font-weight: 500;
    border-radius: 0.75rem; cursor: pointer; transition: all var(--transition-fast);
    border: 1px solid var(--card-border); background-color: rgba(30, 41, 59, 0.6);
    color: var(--text-secondary); white-space: nowrap;
}
.btn:hover {
    color: var(--text-primary); border-color: var(--primary-purple-light);
    background-color: rgba(30, 41, 59, 0.8);
}
.btn:active { transform: scale(0.97); }
.btn svg { width: 16px; height: 16px; }
.btn-icon { padding: 0.65rem; }

.btn-primary {
    width: 100%; 
    font-size: 1.14rem; 
    font-weight: 600; 
    padding: 1rem;
    background: var(--brand-gradient); 
    border: none; 
    color: white;
    margin-top: 1.5rem; 
    border-radius: 0.75rem;
    box-shadow: 0 4px 20px rgba(109, 40, 217, 0.3);
    transition: all var(--transition-medium);
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
}
.btn-primary:hover {
    background: var(--brand-gradient-hover);
    box-shadow: 0 8px 30px rgba(109, 40, 217, 0.4);
    transform: translateY(-2px);
}
.btn-primary:active { transform: translateY(0); 
}

/*
.btn-primary svg { 
    width: 18px; 
    height: 18px; 
    margin: 0;
} */

/* --- CONTROLS --- */
.controls-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 1rem; align-items: center; }
.control-group {
    background-color: rgba(15, 23, 42, 0.5); border: 1px solid var(--card-border);
    border-radius: 0.75rem; padding: 0.75rem 1rem; transition: all var(--transition-fast);
}
.control-group:hover { border-color: rgba(109, 40, 217, 0.4); }
.control-group label { display: flex; align-items: center; justify-content: space-between; color: var(--text-secondary); font-size: 0.9rem; width: 100%; cursor: pointer; }
.control-text-with-icon { display: flex; align-items: center; gap: 0.75rem; color: var(--text-primary); font-weight: 500; }
.control-text-with-icon svg { width: 16px; height: 16px; color: var(--primary-purple-light); flex-shrink: 0; }

#surgePolicy {
    border: none; background-color: transparent; color: var(--text-primary); font-size: 0.9rem;
    cursor: pointer; -webkit-appearance: none; appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23A78BFA' viewBox='0 0 16 16'%3E%3Cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3E%3C/svg%3E");
    background-repeat: no-repeat; background-position: right 0.5rem center;
    text-align: right; padding-right: 1.5rem; font-weight: 500;
}
#surgePolicy:focus { outline: none; }
#surgePolicy option { background-color: var(--bg-dark); color: var(--text-primary); }

/* --- OUTPUT --- */
.output-group { margin-top: 1.5rem; }
.output-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem; }
.output-header h4 { font-size: 1rem; color: var(--primary-purple-light); font-weight: 600; display: flex; align-items: center; gap: 0.5rem; }
.output-header h4 svg { width: 18px; height: 18px; }
.output-actions { display: flex; gap: 0.5rem; }

/* --- SWITCH --- */
.switch { position: relative; display: inline-block; width: 44px; height: 24px; flex-shrink: 0; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider { position: absolute; cursor: pointer; inset: 0; background-color: rgba(148, 163, 184, 0.2); border-radius: 24px; transition: var(--transition-medium); }
.slider:before { position: absolute; content: ""; height: 18px; width: 18px; left: 3px; bottom: 3px; background-color: white; border-radius: 50%; transition: var(--transition-medium); box-shadow: 0 1px 3px rgba(0,0,0,0.2); }
input:checked + .slider { background: var(--brand-gradient); }
input:checked + .slider:before { transform: translateX(20px); }

/* --- TOASTS --- */
#toastContainer { position: fixed; bottom: 2rem; right: 2rem; display: flex; flex-direction: column; gap: 1rem; z-index: 1000; }
.toast {
    padding: 1rem 1.5rem; border-radius: 0.75rem; box-shadow: 0 8px 32px rgba(0,0,0,0.2);
    color: white; opacity: 0; transform: translateX(120%); transition: var(--transition-slow);
    display: flex; align-items: center; gap: 0.75rem; backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.1);
}
.toast.show { opacity: 1; transform: translateX(0); }
.toast.success { background: linear-gradient(90deg, rgba(16, 185, 129, 0.9), rgba(5, 150, 105, 0.9)); }
.toast.error { background: linear-gradient(90deg, rgba(239, 68, 68, 0.9), rgba(220, 38, 38, 0.9)); }
.toast.info { background: linear-gradient(90deg, rgba(59, 130, 246, 0.9), rgba(37, 99, 235, 0.9)); }
.toast svg { width: 20px; height: 20px; flex-shrink: 0; }

/* --- FOOTER --- */
footer {
    text-align: center; margin-top: 3rem; padding-top: 1.5rem;
    border-top: 1px solid var(--card-border); color: var(--text-secondary);
    font-size: 0.9rem; display: flex; align-items: center; justify-content: center; gap: 0.5rem;
}
footer svg { width: 20px; height: 20px; color: var(--primary-purple-light); transition: color var(--transition-fast); }
footer a {
    color: var(--primary-purple-light); font-weight: 500; text-decoration: none;
    transition: all var(--transition-fast); display: inline-flex; align-items: center; gap: 0.25rem;
}
footer a:hover { color: var(--primary-purple); text-shadow: 0 0 8px rgba(139, 92, 246, 0.4); }
footer a:hover svg { transform: translateX(2px); }

/* --- TOOLTIPS --- */
.tooltip { position: relative; }
.tooltip::after {
    content: attr(data-tooltip); position: absolute; bottom: calc(100% + 5px);
    left: 50%; transform: translateX(-50%); background-color: var(--bg-dark);
    color: var(--text-primary); padding: 0.5rem 0.75rem; border-radius: 0.5rem;
    font-size: 0.8rem; white-space: nowrap; opacity: 0; visibility: hidden;
    transition: all var(--transition-fast); z-index: 10;
    border: 1px solid var(--card-border); box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}
.tooltip:hover::after { opacity: 1; visibility: visible; transform: translateX(-50%) translateY(-5px); }

/* --- RESPONSIVE --- */
@media (max-width: 1024px) {
    .converter-grid { grid-template-columns: 1fr; }
    .input-panel textarea { height: 300px; }
    .output-panel textarea { height: 180px; }
}
@media (max-width: 600px) {
    body { padding: 1rem; } .container { padding: 1.5rem; }
    header { flex-direction: column; gap: 1.5rem; text-align: center; margin-bottom: 2rem; }
    .header-title { flex-direction: column; text-align: center; }
    .controls-grid { grid-template-columns: 1fr; }
}
